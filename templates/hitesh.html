<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Hitesh</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<h1>University of Surrey-COMM04-Cloud Computing</h1>
<h2>Hitesh Sai Marisetty - 6673633</h2>
<br> <h3>Risk Analysis using Monte-Carlo</h3>
<br> <h3>AWS EC2</h3>
<form method="post" id="form1">
<h4>Minimum history<input id="f1a" type="number" name="h"></h4>
    <h4>No. Shots<input id="f1b" type="number" name="s"></h4>
    <h4>Sell-Buy option
    <select id="f1c" name="sb">
        <option value="0">Sell</option>
        <option value="1">Buy</option>
    </select></h4>
    <div>
        <button class="btn btn-success" id="ss">Results & Chart</button><input type="reset" value="Reset"></div>
</form>

<form method="post" id="form2">
<script type="text/javascript">
    google.charts.load('current', {'packages': ['corechart']});
    google.charts.setOnLoadCallback(drawChart);
    col = ['Date', '95', '99']
    var val95 = {{va95}};
    var val99 = {{va99}};
    var da = '{{date}}';
    var clean = da.replace('[', '').replace(']', '').split(',').map(x => x.trim());
    var rows = [];
    rows.push(col)
    for (let i = 0; i < val95.length; i++) {
        rows.push([clean[i].replace("&#39;", "").replace("&#39;", ""), val95[i], val99[i]]);
    }
    var myJsonString = JSON.stringify(rows)

    function drawChart() {
        var data = google.visualization.arrayToDataTable(rows);

        var options = {
            title: 'Company Performance',
            curveType: 'function',
            legend: {position: 'bottom'}
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
    }


	  </script>
<div id="curve_chart" style="width: 900px; height: 500px"></div>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
	google.charts.load('current', {'packages':['table']});
      google.charts.setOnLoadCallback(drawTable);
       col = ['Date', '95', '99']
    var val95 = {{va95}};
    var val99 = {{va99}};
    var da = '{{date}}';
    var clean = da.replace('[', '').replace(']', '').split(',').map(x => x.trim());
    var rows = [];
    rows.push(col)
    for (let i = 0; i < val95.length; i++) {
        rows.push([clean[i].replace("&#39;", "").replace("&#39;", ""), val95[i], val99[i]]);
    }
    var myJsonString = JSON.stringify(rows)

      function drawTable() {
      var data = google.visualization.arrayToDataTable(rows);
        var table = new google.visualization.Table(document.getElementById('table_div'));

        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
    }
</script>
    <div id="table_div"></div>

<div className="container">
    <h1>
        <headers>Audit</headers>
    </h1>

    <h4>MinHistory:{{mih}}</h4>
    <h4>shots:{{sho}}</h4>
    <h4>Risk value of 95:{{r_95}}</h4>
    <h4>Risk value of 99:{{r_99}}</h4><br><br>
    <form action="http://127.0.0.1:8080/">
    </form>
</div>

</form>
</body>
</html>
